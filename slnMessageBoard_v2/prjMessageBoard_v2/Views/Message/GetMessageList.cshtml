@using System.Data
@model prjMessageBoard_v2.Models.MessageBoardModel


@{
    ViewBag.Title = "留言列表";
}

<h2>留言列表</h2>


<form method="get" action="/Message/SearchMessage">
    <input type="text" name="keyword" placeholder="輸入標題關鍵字搜尋留言" />
    <input type="submit" value="搜尋" />
</form>
<br />

<table class="table">
    <tr>
        <th>留言編號</th>
        <th>標題</th>
        <th>留言者(帳號/名稱)</th>
        <th>留言時間</th>
    </tr>

    @if (Model.message.Count == 0)
    {
        <tr>
            <td></td>
            <td></td>
            <td>@ViewBag.Alert</td>
            <td></td>
        </tr>
    }

    else
    {
        for (int i = 0; i < Model.message.Count; i++)
        {
            <tr>
                <td>@Model.message[i].ID</td>
                <td>
                    <a href=@Url.Action("GetMessageContent",new { MessageID = @Model.message[i].ID })>
                        @Model.message[i].Title
                    </a>
                </td>
                <td>@Model.member[i].Account (@Model.member[i].Name)</td>
                <td>@Model.message[i].CreateTime</td>
            </tr>
        }
    }
</table>
